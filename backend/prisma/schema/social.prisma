model Group {
    id String @id @default(uuid()) @db.Uuid

    // basic detail 
    name      String
    linkGroup String?
    createAt  DateTime @default(now())
    updateAt  DateTime @updatedAt

    authorId String? @db.Uuid
    author   User?   @relation(fields: [authorId], references: [id], onDelete: Cascade, onUpdate: Cascade)

    // realtion
    members GroupMember[]   
}

model GroupMember {
    id String @id @default(uuid()) @db.Uuid

    userId String      @db.Uuid
    role   RoleInGroup @default(MEMBER)
    joinAt DateTime    @default(now())
    user   User        @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)

    groupId String @db.Uuid
    group   Group  @relation(fields: [groupId], references: [id], onDelete: Cascade, onUpdate: Cascade)

    @@unique([groupId, userId])
}
